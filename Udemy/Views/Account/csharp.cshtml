@model Udemy.Models.csharp

@{
    Layout = "_layoutcsharp";
    ViewData["Title"] = "C# Tutorial";
    bool isLoggedIn = false; // This should be set based on your actual authentication logic
}

<div class="container mt-4">
    <h1 class="text-center">C# Tutorial</h1>
    <div class="row">
        <div class="col-md-3 mb-4">
            <div class="video-container position-relative">
                <iframe class="video-frame" width="100%" height="315" src="https://www.youtube.com/embed/SuLiu5AK9Ps?si=6qLzZnu1KvRlOK7K" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                <div class="video-overlay" onclick="checkLogin()"></div>
                <p>This video is only for C#.</p>
            </div>
        </div>
        <div class="col-md-3 mb-4">
            <div class="video-container position-relative">
                <iframe class="video-frame" width="100%" height="315" src="https://www.youtube.com/embed/SuLiu5AK9Ps?si=6qLzZnu1KvRlOK7K" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                <div class="video-overlay" onclick="checkLogin()"></div>
                <p>This video is only for C#.</p>
            </div>
        </div>
        <!-- Repeat for other videos -->
    </div>
</div>

<script>
    var isLoggedIn = @Html.Raw(Json.Serialize(isLoggedIn));

    function checkLogin() {
        if (!isLoggedIn) {
            alert("You can't play the video. First, you have to log in.");
        } else {
            var overlays = document.querySelectorAll('.video-overlay');
            overlays.forEach(function (overlay) {
                overlay.style.display = 'none';
            });
        }
    }

    document.querySelectorAll('.video-overlay').forEach(function (overlay) {
        overlay.addEventListener('click', function () {
            if (!isLoggedIn) {
                alert("You can't play the video. First, you have to log in.");
            }
        });
    });
</script>

<style>
    .video-container {
        position: relative;
    }

    .video-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        cursor: pointer;
        background: transparent; /* Initially transparent */
    }

    .video-frame {
        display: block;
    }
</style>
